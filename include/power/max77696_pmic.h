/* SPDX-License-Identifier: GPL-2.0+ */
/*
 *  Copyright (C) 2015 Freescale Semiconductor, Inc.
 *  Fabio Estevam <fabio.estevam@freescale.com>
 */

#ifndef __MAX77696_PMIC_H__
#define __MAX77696_PMIC_H__

#include <power/pmic.h>

enum {
	MAX77696_REG_PMIC_SD1_VOUT			=	0x31,
	MAX77696_REG_PMIC_SD1_DVS,
	MAX77696_REG_PMIC_SD2_VOUT,
	MAX77696_REG_PMIC_SD2_DVS,
	MAX77696_REG_PMIC_SD3_VOUT,
	MAX77696_REG_PMIC_SD4_VOUT,
	MAX77696_REG_PMIC_SD5_VOUT,
	MAX77696_REG_PMIC_SD6_VOUT,
	MAX77696_REG_PMIC_SD1_CNFG,
	MAX77696_REG_PMIC_SD2_CNFG,
	MAX77696_REG_PMIC_SD3_CNFG,
	MAX77696_REG_PMIC_SD4_CNFG,
	MAX77696_REG_PMIC_SD5_CNFG,
	MAX77696_REG_PMIC_SD6_CNFG,
	MAX77696_REG_PMIC_SD_FREQ,
	MAX77696_REG_PMIC_SD_INT,
	MAX77696_REG_PMIC_SD_INTM,
	MAX77696_REG_PMIC_SD_INTS,

	MAX77696_REG_PMIC_LDO1_CNFG1		=	0x43,
	MAX77696_REG_PMIC_LDO1_CNFG2,
	MAX77696_REG_PMIC_LDO2_CNFG1,
	MAX77696_REG_PMIC_LDO2_CNFG2,
	MAX77696_REG_PMIC_LDO3_CNFG1,
	MAX77696_REG_PMIC_LDO3_CNFG2,
	MAX77696_REG_PMIC_LDO4_CNFG1,
	MAX77696_REG_PMIC_LDO4_CNFG2,
	MAX77696_REG_PMIC_LDO5_CNFG1,
	MAX77696_REG_PMIC_LDO5_CNFG2,
	MAX77696_REG_PMIC_LDO6_CNFG1,
	MAX77696_REG_PMIC_LDO6_CNFG2,
	MAX77696_REG_PMIC_LDO7_CNFG1,
	MAX77696_REG_PMIC_LDO7_CNFG2,
	MAX77696_REG_PMIC_LDO8_CNFG1,
	MAX77696_REG_PMIC_LDO8_CNFG2,
	MAX77696_REG_PMIC_LDO9_CNFG1,
	MAX77696_REG_PMIC_LDO9_CNFG2,
	MAX77696_REG_PMIC_LDO10_CNFG1,	//Guessing LDO10 is SAFELDO
	MAX77696_REG_PMIC_LDO10_CNFG2,
	MAX77696_REG_PMIC_LDO_INT1,
	MAX77696_REG_PMIC_LDO_INT2,
	MAX77696_REG_PMIC_LDO_INT1M,
	MAX77696_REG_PMIC_LDO_INT2M,
	MAX77696_REG_PMIC_LDO_CNFG3,

	MAX77696_REG_PMIC_SW1_CNTRL		=	0x5c,
	MAX77696_REG_PMIC_SW2_CNTRL,
	MAX77696_REG_PMIC_SW3_CNTRL,
	MAX77696_REG_PMIC_SW4_CNTRL,

	MAX77696_REG_PMIC_EPDCNFG		=	0x60,
	MAX77696_REG_PMIC_EPDINTS,
	MAX77696_REG_PMIC_EPDINT,
	MAX77696_REG_PMIC_EPDINTM,
	MAX77696_REG_PMIC_EPDVCOM,
	MAX77696_REG_PMIC_EPDVEE,
	MAX77696_REG_PMIC_EPDVNEG,
	MAX77696_REG_PMIC_EPDVPOS,
	MAX77696_REG_PMIC_EPDVDDH,
	MAX77696_REG_PMIC_EPDSEQ,
	MAX77696_REG_PMIC_EPDOKINTS,

	MAX77696_REG_PMIC_VDDQ_SET		=	0x6b,

	MAX77696_REG_PMIC_LEDBST_CNTL1	=	0x6c,
	MAX77696_REG_PMIC_LEDBST_CURR1,
	MAX77696_REG_PMIC_LEDBST_CURR2,
	MAX77696_REG_PMIC_INT,
	MAX77696_REG_PMIC_INTM,

	MAX77696_REG_PMIC_FPS0_CNFG		=	0x80,
	MAX77696_REG_PMIC_FPS1_CNFG,
	MAX77696_REG_PMIC_FPS2_CNFG,
	MAX77696_REG_PMIC_FPS_SD1		=	0x8c,
	MAX77696_REG_PMIC_FPS_SD2,
	MAX77696_REG_PMIC_FPS_SD3,
	MAX77696_REG_PMIC_FPS_SD4,
	MAX77696_REG_PMIC_FPS_SD5,
	MAX77696_REG_PMIC_FPS_SD6,
	MAX77696_REG_PMIC_FPS_RSTOUT	=	0x9a,

	MAX77696_REG_PMIC_CID 			=	0x9c,

	MAX77696_REG_PMIC_EPDOKINT		=	0xb2,
	MAX77696_REG_PMIC_EPDOKINTM,
	MAX77696_REG_PMIC_EPDVCOMR,
	MAX77696_REG_PMIC_EPDDIS,

	MAX77696_NUM_OF_REGS,
	MAX77696_INVALID_REG			=	0xff
};

static const char max77696_ldo_cnfg1[] = {
	MAX77696_INVALID_REG,
	MAX77696_REG_PMIC_LDO1_CNFG1,
	MAX77696_REG_PMIC_LDO2_CNFG1,
	MAX77696_REG_PMIC_LDO3_CNFG1,
	MAX77696_REG_PMIC_LDO4_CNFG1,
	MAX77696_REG_PMIC_LDO5_CNFG1,
	MAX77696_REG_PMIC_LDO6_CNFG1,
	MAX77696_REG_PMIC_LDO7_CNFG1,
	MAX77696_REG_PMIC_LDO8_CNFG1,
	MAX77696_REG_PMIC_LDO9_CNFG1,
	MAX77696_REG_PMIC_LDO10_CNFG1
};

static const char max77696_ldo_cnfg2[] = {
	MAX77696_INVALID_REG,
	MAX77696_REG_PMIC_LDO1_CNFG2,
	MAX77696_REG_PMIC_LDO2_CNFG2,
	MAX77696_REG_PMIC_LDO3_CNFG2,
	MAX77696_REG_PMIC_LDO4_CNFG2,
	MAX77696_REG_PMIC_LDO5_CNFG2,
	MAX77696_REG_PMIC_LDO6_CNFG2,
	MAX77696_REG_PMIC_LDO7_CNFG2,
	MAX77696_REG_PMIC_LDO8_CNFG2,
	MAX77696_REG_PMIC_LDO9_CNFG2,
	MAX77696_REG_PMIC_LDO10_CNFG2
};

static const char max77696_sd_cnfg[] = {
	MAX77696_INVALID_REG,
	MAX77696_REG_PMIC_SD1_CNFG,
	MAX77696_REG_PMIC_SD2_CNFG,
	MAX77696_REG_PMIC_SD3_CNFG,
	MAX77696_REG_PMIC_SD4_CNFG,
	MAX77696_REG_PMIC_SD5_CNFG,
	MAX77696_REG_PMIC_SD6_CNFG,
};

static const char max77696_sd_vout[] = {
	MAX77696_INVALID_REG,
	MAX77696_REG_PMIC_SD1_VOUT,
	MAX77696_REG_PMIC_SD2_VOUT,
	MAX77696_REG_PMIC_SD3_VOUT,
	MAX77696_REG_PMIC_SD4_VOUT,
	MAX77696_REG_PMIC_SD5_VOUT,
	MAX77696_REG_PMIC_SD6_VOUT
};

enum {
	OPMODE_OFF = 0,
	OPMODE_STANDBY,
	OPMODE_LPM,
	OPMODE_ON,
};

/* Drivers name */
#define MAX77696_LDO_DRIVER			"max77696_ldo"
#define MAX77696_SD_DRIVER			"max77696_sd"
#define MAX77696_BLPWM_DRIVER		"max77696_pwm"

#define MAX77696_LDO_NUM			10
#define MAX77696_LDO_VOLT_MASK		0x3f
#define MAX77696_LDO_VOLT_MAX_HEX 	0x3f
#define MAX77696_LDO_VOLT_MIN_HEX 	0x00
#define MAX77696_LDO_UV_MIN			800000 /* Minimum LDO uV value */
#define MAX77696_LDO_UV_STEP		50000 /* uV value step */
#define MAX77696_LDO_MODE_MASK		0xc0
#define MAX77696_LDO_MODE_OFF		(0x00 << 0x06)
#define MAX77696_LDO_MODE_STANDBY	(0x01 << 0x06)
#define MAX77696_LDO_MODE_LPM		(0x02 << 0x06)
#define MAX77696_LDO_MODE_ON		(0x03 << 0x06)

#define MAX77696_SD_NUM				6
#define MAX77696_SD_UV_MIN			600000 /* Minimum SD uV value */
#define MAX77696_SD_UV_STEP			12500 /* uV value step */
#define MAX77696_SD_MODE_MASK		0x30
#define MAX77696_SD_MODE_OFF		(0x00 << 4)
#define MAX77696_SD_MODE_STANDBY	(0x01 << 4)
#define MAX77696_SD_MODE_LPM		(0x02 << 4)
#define MAX77696_SD_MODE_ON			(0x03 << 4)

#ifdef CONFIG_POWER
#define MAX77696_I2C_ADDR		0x3C
int power_max77696_init(unsigned char bus);
#endif

#endif
